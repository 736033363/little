
<!DOCTYPE html>
<html lang='zh-CN'>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <!-- <script src="avalon.js"></script> -->
        <!-- <script src="../js/jquery2.1.4.js"></script> -->
        <script src="../js/jqueryv172.js"></script>
        <!-- <link rel="stylesheet" href="../css/css-library.css" /> -->
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
        <script>
        
        </script>
        <style>


        </style>
    </head>
    <body>
<div id="app">
  {{ message }}
</div>

<select>
    <option value="a">a</option>
    <option value="b">b</option>
    <option value="c">c</option>
</select>

<script>
'use strict'

let {log:l} = console

var app = new Vue({
  el: '#app',
  data: {
    arr: [1,2,3],
    message: 'Hello Vue!',
    a:{
        b:{
            c: 'c'
        }
    }
  }
})

// 键路径
app.$watch('a.b.c', function (newVal, oldVal) {
    l('做点什么')
  // 做点什么
})


let obj = {}
function defineReactive(data, key, value){
    Object.defineProperty(data, key, {
        enumerable : true,
        configurable : true,
        get() { 
            l('get')
            return value; },
        set(newValue) { 
            l('set')
            if(newValue === value) return;
            value = newValue; 
            l(value)
        },
    })
}

defineReactive(obj, 'age', 18)
defineReactive(obj, 'wife', ['a', 'b'])


</script>
    </body>
</html>