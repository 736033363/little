# vue原理

## 全局了解
vue是一个数据驱动的前端框架

## 范围
了解vue框架的实现原理

## 资料
《深入浅出 vue.js》

## 目标
能口述vue框架大体的实现原理（偏使用，无需研究的太细，不需要具体实现）

## 课程计划表
* vue.js简介
    * 什么是vue.js
    * vue.js的简史

第一篇 变化侦测 - `vue是数据驱动特性（为何只讲对象和数组的变化侦测`

* Object的变化侦测
    * 如何侦测一个对象的变化
    * 如何收集依赖
    * 如何触发依赖
    * 依赖是谁
    * 递归侦测所有key
* Array的变化侦测
    * 如何侦测数组变化
    * 如何收集依赖
    * 如何触发依赖
    * 侦测数组中的元素变化
    * 侦测数组中增加的元素变化
* 变化侦测相关API的实现原理
    * vm.$watch
        * 用途
        * 基本实现
        * unwatch
        * deep参数实现原理
    * vm.$set
        * 用途
        * Array的处理
        * 已存属性的处理
        * 处理新增属性
    * vm.$delete
        * 用途
        * 最基本原理

第二篇 虚拟DOM - `有人说vue2相对vue1最大的变化是引入虚拟DOM`

* 虚拟DOM介绍
    * 声明式操作DOM
    * 虚拟DOM为了解决什么问题
    * 为什么要引入虚拟DOM
    * vue.js中的虚拟DOM
* VNode
    * 什么是VNode
    * VNode的作用
    * VNode的类型
* patch
    * patch介绍
        * 何时创建
        * 何时删除
        * 何时更新
    * 创建节点（创建到渲染的过程）
    * 删除节点
    * 更新节点
    * 更新子节点
        * 更新策略（新增，删除，移动，更新）
        * 优化策略
        * 没有处理过的节点

第三篇 模板编译原理

* 模板编译
    * vNode是怎么来的
    * 模板编译在整个渲染过程中的位置
    * 模板编译大体逻辑
    * 解析器
    * 优化器
    * 代码生成器
* 解析器
    * 解析器的作用
    * 解析器内部运行原理
    * HTML解析器
        * 运行原理
        * 截取开始标签
        * 截取结束标签
        * 截取注释
        * 截取条件注释
        * 截取doctype
        * 截取文本
        * 使用栈维护DOM层级
    * 文本解析器
* 优化器
    * 找出所有静态节点
    * 找出所有静态根节点
* 代码生成器
    * 将AST转成字符串
    * 三种类型


前三篇的知识点一句话描述：现在主流的框架特点是：描述状态与真实的DOM之间的关系，状态到试图这部分工作框架会帮忙做，状态一旦改变，只更新与状态相关的视图（DOM）。
   
前面介绍的是实现“产品A”（vue - 构建用户界面的框架 - 描述状态与真实DOM之间的关系)的核心模块的思想和技术实现原理。

产品是给客户用的，客户是通过API来使用产品，接下来学习有哪些API，以及实现的原理

第四篇 整理流程

* 框架设计和项目结构
    * 目录结构
    * 框架设计
* 实例方法和全局API的实现原理
    * 数据相关实例方法
        * vm.$watch vm.$delete vm.$set
    * 事件相关的实例方法
        * vm.$on vm.$off vm.$emit vm.$once
    * 生命周期相关的实例方法



    * 全局API的实现原理
* 生命周期
* 指令的奥义
* 过滤器的奥义
* 最佳实践

## 上课

### 生命周期相关的实例方法
* vm.$forceUpdate
* vm.$destroy


为什么给用户提供的监听是一个一个的Watcher







